# fastdfs配置

## fastdfs追踪器配置

配置文件默认位置：/etc/fdfs

![](C:\Users\lenovo\AppData\Roaming\marktext\images\2023-02-25-13-38-36-image.png)

复制一份tracker.conf.sample，保存为后缀tracker.conf.test01。

```
#注意权限
sudo gedit tracker.conf.test01
```

![](D:\lenovo\Pictures\2023-02-25-13-56-27-image.png)





第八行bind_addr: 将追踪器和主机进行绑定，用ifconfig查看主机ip地址

![](D:\lenovo\Pictures\2023-02-25-13-58-20-image.png)

bind-addr填入192.168.223.130

如果不指定，fdfs也会自动绑定主机ip地址，所以不改也行。



第11行port是追踪器监听的端口，这是存储节点的端口。默认22122，可以自行修改。



第22行base_path是给追踪器准备的日志目录，存储日志文件和pid文件（储存追踪器的pid）。目前这个目录并不存在，我们需要创建一个。

```
#自行选择路径
cd /home/hk416
mkdir fastdfs
cd fastdfs
#顺便创建存储节点和客户端的日志文件夹
mkdir tracker storage client
```

修改base_path为   /home/hk416/fastdfs/tracker



## 存储节点配置文件

基本上和追踪器的修改相同

![](D:\lenovo\Pictures\2023-02-25-14-33-43-image.png)



group_name表示存储节点属于哪个组。



bind_addr可以不写，自动配置。



port是存储节点绑定的端口，给客户端准备的。



base_path修改同上，修改为  /home/hk416/fastdfs/storage



第105行storage_path_count  存放用户上传文件的路径个数。

![](D:\lenovo\Pictures\2023-02-25-14-42-16-image.png)



第109行store_pathi表示第i个存储路径，个数要与storage_path_count一致，我们修改为    /home/hk416/fastdfs/storage



第118行是追踪器ip和端口

![](D:\lenovo\Pictures\2023-02-25-14-44-06-image.png)

要修改成和追踪器相同 192.168.223.130。即使前面没写，它也应该是主机的ip。



## 客户端配置文件

基本同上

![](D:\lenovo\Pictures\2023-02-25-14-48-15-image.png)

base_path 修改为 /home/hk416/fastdfs/client

注意，用户要对该路径有读写权限。

```
给所有用户加上写权限
sudo chmod a+w client
```



修改tracker_server同上
